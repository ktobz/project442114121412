<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Cloth Shopping</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script crossorigin src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body class="bg-black min-h-screen text-gray-100 transition duration-300">
  <div id="root"></div>
  <script type="text/babel">
    const { useState, useRef, useEffect } = React;

    const categories = [
      "T-Shirts", "Jackets", "Shoes", "Accessories", "Dresses",
      "Blazers", "Pants", "Hoodies", "Suits", "Swimwear", "Bags"
    ];

    const newArrivalsImages = [
      "https://picsum.photos/seed/na1/400/400",
      "https://picsum.photos/seed/na2/400/400",
      "https://picsum.photos/seed/na3/400/400",
      "https://picsum.photos/seed/na4/400/400",
      "https://picsum.photos/seed/na5/400/400",
      "https://picsum.photos/seed/na6/400/400",
      "https://picsum.photos/seed/na7/400/400",
      "https://picsum.photos/seed/na8/400/400",
      "https://picsum.photos/seed/na9/400/400",
      "https://picsum.photos/seed/na10/400/400"
    ];

    const cardImages = [
      "https://picsum.photos/seed/tshirt1/400/400",
      "https://picsum.photos/seed/tshirt2/400/400",
      "https://picsum.photos/seed/jacket1/400/400",
      "https://picsum.photos/seed/jacket2/400/400",
      "https://picsum.photos/seed/shoes1/400/400",
      "https://picsum.photos/seed/shoes2/400/400",
      "https://picsum.photos/seed/accessory1/400/400",
      "https://picsum.photos/seed/accessory2/400/400",
      "https://picsum.photos/seed/dress1/400/400",
      "https://picsum.photos/seed/dress2/400/400",
      "https://picsum.photos/seed/blazer1/400/400",
      "https://picsum.photos/seed/blazer2/400/400",
      "https://picsum.photos/seed/pants1/400/400",
      "https://picsum.photos/seed/pants2/400/400",
      "https://picsum.photos/seed/hoodie1/400/400",
      "https://picsum.photos/seed/hoodie2/400/400",
      "https://picsum.photos/seed/suit1/400/400",
      "https://picsum.photos/seed/suit2/400/400",
      "https://picsum.photos/seed/swimwear1/400/400",
      "https://picsum.photos/seed/swimwear2/400/400",
      "https://picsum.photos/seed/bag1/400/400",
      "https://picsum.photos/seed/bag2/400/400"
    ];

    const cards = categories.flatMap((category, catIdx) =>
      Array.from({ length: 4 }, (_, i) => ({
        id: `${category}-${i}`,
        title: `${category} Item ${i + 1}`,
        description: `High quality ${category.toLowerCase()} for every occasion.`,
        price: (20 + (catIdx * 4 + i) * 5).toFixed(2),
        size: ["S", "M", "L", "XL"][(catIdx * 4 + i) % 4],
        section: category,
        image: cardImages[(catIdx * 4 + i) % cardImages.length],
        link: `#${category.toLowerCase().replace(/\s/g, '-')}-item-${i + 1}`
      }))
    );

    // Navbar with mobile support
    function Navbar({
      currentPage,
      setPage,
      cartCount,
      setDropdownOpen,
      dropdownOpen,
      isLoggedIn,
      profilePic,
      mobileMenuOpen,
      setMobileMenuOpen,
      mobileDropdownOpen,
      setMobileDropdownOpen
    }) {
      return (
        <nav className="bg-purple-800 text-white px-4 py-4 flex items-center justify-between border-b border-purple-900 shadow text-sm rounded-b-2xl relative z-10">
          <div className="font-bold text-lg rounded-xl px-3 py-1 bg-purple-900">ClothShop</div>
          {/* Desktop Nav */}
          <div className="hidden md:flex items-center gap-3 flex-wrap">
            <button className={`bg-purple-800 px-2 py-1 border border-purple-900 hover:bg-black rounded-xl text-xs${currentPage === 'home' ? ' bg-purple-950' : ''}`} onClick={() => setPage('home')}>Home</button>
            <button className={`bg-purple-800 px-2 py-1 border border-purple-900 hover:bg-black rounded-xl text-xs${currentPage === 'about' ? ' bg-purple-950' : ''}`} onClick={() => setPage('about')}>About</button>
            <button className={`bg-purple-800 px-2 py-1 border border-purple-900 hover:bg-black rounded-xl text-xs${currentPage === 'all' ? ' bg-purple-950' : ''}`} onClick={() => setPage('all')}>All Items</button>
            <button className={`bg-purple-800 px-2 py-1 border border-purple-900 hover:bg-black rounded-xl text-xs${currentPage === 'newarrivals' ? ' bg-purple-950' : ''}`} onClick={() => setPage('newarrivals')}>New Arrivals</button>
            <div className="relative inline-block">
              <button
                className={`bg-purple-800 px-2 py-1 flex items-center border border-purple-900 hover:bg-black rounded-xl text-xs${categories.includes(currentPage) ? ' bg-purple-950' : ''}`}
                onClick={() => setDropdownOpen(open => !open)}
              >
                Categories
                <svg className="w-3 h-3 ml-1" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24">
                  <path strokeLinecap="round" strokeLinejoin="round" d="M19 9l-7 7-7-7"/>
                </svg>
              </button>
              {dropdownOpen && (
                <div className="absolute right-0 mt-2 w-40 bg-purple-800 text-white shadow z-10 border border-purple-900 rounded-xl"
                  onMouseLeave={() => setDropdownOpen(false)}>
                  {categories.map(cat => (
                    <button
                      key={cat}
                      className="block w-full text-left px-4 py-2 bg-purple-800 border-b border-purple-900 hover:bg-black rounded-xl text-xs"
                      onClick={() => { setPage(cat); setDropdownOpen(false); }}
                    >{cat}</button>
                  ))}
                </div>
              )}
            </div>
            <button className={`relative bg-purple-800 px-2 py-1 border border-purple-900 hover:bg-black rounded-xl flex items-center text-xs${currentPage === 'cart' ? ' bg-purple-950' : ''}`} onClick={() => setPage('cart')}>
              <svg className="w-4 h-4 mr-1" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24">
                <circle cx="9" cy="21" r="1" />
                <circle cx="20" cy="21" r="1" />
                <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6" strokeLinecap="round" strokeLinejoin="round"/>
              </svg>
              Cart
              {cartCount > 0 && (
                <span className="ml-2 bg-purple-950 text-white rounded-full px-2 py-0.5 text-xs">{cartCount}</span>
              )}
            </button>
            {!isLoggedIn ? (
              <>
                <button className={`bg-purple-800 px-2 py-1 border border-purple-900 hover:bg-black rounded-xl text-xs${currentPage === 'login' ? ' bg-purple-950' : ''}`} onClick={() => setPage('login')}>Login</button>
                <button className={`bg-purple-800 px-2 py-1 border border-purple-900 hover:bg-black rounded-xl text-xs${currentPage === 'register' ? ' bg-purple-950' : ''}`} onClick={() => setPage('register')}>Register</button>
              </>
            ) : (
              <button className={`bg-purple-800 px-2 py-1 border border-purple-900 hover:bg-black rounded-full text-xs flex items-center${currentPage === 'profile' ? ' bg-purple-950' : ''}`} onClick={() => setPage('profile')} title="Profile">
                <img src={profilePic} alt="Profile" className="w-7 h-7 rounded-full object-cover border-2 border-white" />
              </button>
            )}
          </div>
          {/* Mobile Nav */}
          <div className="md:hidden flex items-center">
            <button className="focus:outline-none" onClick={() => setMobileMenuOpen(open => !open)}>
              <svg className="w-7 h-7" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" d={mobileMenuOpen ? "M6 18L18 6M6 6l12 12" : "M4 6h16M4 12h16M4 18h16"} />
              </svg>
            </button>
            {mobileMenuOpen && (
              <div className="absolute top-full left-0 w-full bg-purple-900 flex flex-col gap-1 py-2 px-4 z-30">
                <button className={`text-left px-2 py-1 rounded-xl${currentPage === 'home' ? ' bg-purple-950' : ''}`} onClick={() => { setPage('home'); setMobileMenuOpen(false); }}>Home</button>
                <button className={`text-left px-2 py-1 rounded-xl${currentPage === 'about' ? ' bg-purple-950' : ''}`} onClick={() => { setPage('about'); setMobileMenuOpen(false); }}>About</button>
                <button className={`text-left px-2 py-1 rounded-xl${currentPage === 'all' ? ' bg-purple-950' : ''}`} onClick={() => { setPage('all'); setMobileMenuOpen(false); }}>All Items</button>
                <button className={`text-left px-2 py-1 rounded-xl${currentPage === 'newarrivals' ? ' bg-purple-950' : ''}`} onClick={() => { setPage('newarrivals'); setMobileMenuOpen(false); }}>New Arrivals</button>
                <div>
                  <button className="flex items-center w-full px-2 py-1 rounded-xl" onClick={() => setMobileDropdownOpen(open => !open)}>
                    Categories
                    <svg className="w-3 h-3 ml-1" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" d="M19 9l-7 7-7-7"/>
                    </svg>
                  </button>
                  {mobileDropdownOpen && (
                    <div className="pl-4">
                      {categories.map(cat => (
                        <button key={cat} className="block w-full text-left px-2 py-1 rounded-xl" onClick={() => { setPage(cat); setMobileDropdownOpen(false); setMobileMenuOpen(false); }}>{cat}</button>
                      ))}
                    </div>
                  )}
                </div>
                <button className={`text-left px-2 py-1 rounded-xl flex items-center${currentPage === 'cart' ? ' bg-purple-950' : ''}`} onClick={() => { setPage('cart'); setMobileMenuOpen(false); }}>
                  <svg className="w-4 h-4 mr-1" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24">
                    <circle cx="9" cy="21" r="1" />
                    <circle cx="20" cy="21" r="1" />
                    <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6" strokeLinecap="round" strokeLinejoin="round"/>
                  </svg>
                  Cart
                  {cartCount > 0 && (
                    <span className="ml-2 bg-purple-950 text-white rounded-full px-2 py-0.5 text-xs">{cartCount}</span>
                  )}
                </button>
                {!isLoggedIn ? (
                  <>
                    <button className={`text-left px-2 py-1 rounded-xl${currentPage === 'login' ? ' bg-purple-950' : ''}`} onClick={() => { setPage('login'); setMobileMenuOpen(false); }}>Login</button>
                    <button className={`text-left px-2 py-1 rounded-xl${currentPage === 'register' ? ' bg-purple-950' : ''}`} onClick={() => { setPage('register'); setMobileMenuOpen(false); }}>Register</button>
                  </>
                ) : (
                  <button className={`text-left px-2 py-1 rounded-full flex items-center${currentPage === 'profile' ? ' bg-purple-950' : ''}`} onClick={() => { setPage('profile'); setMobileMenuOpen(false); }} title="Profile">
                    <img src={profilePic} alt="Profile" className="w-7 h-7 rounded-full object-cover border-2 border-white" />
                  </button>
                )}
              </div>
            )}
          </div>
        </nav>
      );
    }

    // Carousel for New Arrivals with arrows (JS, not React)
    function Carousel({ images }) {
      const [index, setIndex] = useState(0);
      const carouselRef = useRef(null);

      useEffect(() => {
        const interval = setInterval(() => {
          setIndex(i => (i + 1) % images.length);
        }, 3000);
        return () => clearInterval(interval);
      }, [images.length]);

      useEffect(() => {
        if (carouselRef.current) {
          carouselRef.current.scrollTo({
            left: index * 320,
            behavior: "smooth"
          });
        }
      }, [index]);

      function prev() {
        setIndex(i => (i - 1 + images.length) % images.length);
      }
      function next() {
        setIndex(i => (i + 1) % images.length);
      }

      return (
        <div className="w-full flex flex-col items-center relative">
          <div className="flex items-center justify-center w-full max-w-2xl mx-auto">
            <button
              className="absolute left-0 z-10 bg-purple-700 hover:bg-purple-900 text-white rounded-full w-8 h-8 flex items-center justify-center shadow-lg top-1/2 -translate-y-1/2"
              style={{ left: '-2rem' }}
              onClick={prev}
              aria-label="Previous"
              type="button"
            >
              <svg className="w-5 h-5" fill="none" stroke="currentColor" strokeWidth="3" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" d="M15 19l-7-7 7-7"/>
              </svg>
            </button>
            <div
              ref={carouselRef}
              className="flex overflow-x-auto no-scrollbar snap-x snap-mandatory w-full"
              style={{ scrollBehavior: "smooth" }}
            >
              {images.map((img, i) => (
                <div
                  key={i}
                  className="flex-shrink-0 w-80 h-80 mx-2 snap-center rounded-2xl overflow-hidden bg-gray-900 border border-purple-900 shadow-lg"
                  style={{ opacity: i === index ? 1 : 0.5, transition: 'opacity 0.3s' }}
                >
                  <img src={img} alt={`New Arrival ${i + 1}`} className="w-full h-full object-cover" draggable="false" />
                </div>
              ))}
            </div>
            <button
              className="absolute right-0 z-10 bg-purple-700 hover:bg-purple-900 text-white rounded-full w-8 h-8 flex items-center justify-center shadow-lg top-1/2 -translate-y-1/2"
              style={{ right: '-2rem' }}
              onClick={next}
              aria-label="Next"
              type="button"
            >
              <svg className="w-5 h-5" fill="none" stroke="currentColor" strokeWidth="3" viewBox="0 0 24 24">
                <path strokeLinecap="round" strokeLinejoin="round" d="M9 5l7 7-7 7"/>
              </svg>
            </button>
          </div>
          <div className="flex justify-center mt-4 gap-2">
            {images.map((_, i) => (
              <button
                key={i}
                className={`w-3 h-3 rounded-full ${i === index ? "bg-purple-500" : "bg-gray-700"}`}
                onClick={() => setIndex(i)}
                aria-label={`Go to slide ${i + 1}`}
                type="button"
              />
            ))}
          </div>
        </div>
      );
    }

    // Card with hover effect - image fills card
    const Card = ({ card, onAddToCart }) => (
      <div className="bg-gray-900 shadow border border-purple-900 flex flex-col h-full rounded-2xl overflow-hidden transform transition-transform hover:scale-105 hover:shadow-2xl">
        <div className="relative w-full aspect-square rounded-t-2xl overflow-hidden flex-shrink-0">
          <img
            src={card.image}
            alt={card.title}
            className="w-full h-full object-cover object-center"
            draggable="false"
            style={{ pointerEvents: 'none', display: 'block' }}
          />
        </div>
        <div className="p-2 flex flex-col flex-grow">
          <div className="font-semibold text-xs mb-1 text-purple-300 truncate">{card.title}</div>
          <div className="text-purple-400 text-xs mb-1 truncate">{card.description}</div>
          <div className="text-xs"><span className="font-medium text-purple-400">Price:</span> ${card.price}</div>
          <div className="text-xs"><span className="font-medium text-purple-400">Size:</span> {card.size}</div>
          <button
            className="mt-2 bg-purple-700 text-white text-xs px-2 py-1 border border-purple-900 hover:bg-black rounded-xl"
            onClick={() => onAddToCart(card)}
          >
            Add to Cart
          </button>
        </div>
      </div>
    );

    // Payment Page (full page)
    const PaymentPage = ({ cart, onBack, onPay, paymentInfo, setPaymentInfo, error }) => (
      <section className="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50">
        <div className="w-full max-w-md bg-gray-900 rounded-2xl shadow-lg p-8 border border-purple-900 mx-2">
          <h2 className="text-2xl font-bold text-purple-400 mb-6 text-center">Payment</h2>
          <div className="mb-6">
            <div className="bg-gradient-to-r from-yellow-400 to-red-500 rounded-2xl p-4 flex items-center shadow mb-4">
              <img src="https://upload.wikimedia.org/wikipedia/commons/0/04/Mastercard-logo.png" alt="Mastercard" className="w-12 h-8 rounded mr-4 bg-white p-1" />
              <div className="flex-1">
                <div className="text-xs text-gray-700">Card Number</div>
                <div className="font-mono text-lg tracking-widest text-gray-900">{paymentInfo.cardNumber || "**** **** **** ****"}</div>
              </div>
            </div>
            <form className="space-y-4" onSubmit={e => { e.preventDefault(); onPay(); }}>
              <div>
                <label className="block text-xs font-medium text-purple-200 mb-1">Mastercard Number</label>
                <input
                  type="text"
                  maxLength={19}
                  inputMode="numeric"
                  pattern="[0-9 ]*"
                  className="w-full px-3 py-2 border border-purple-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-400 bg-black text-white"
                  placeholder="1234 5678 9012 3456"
                  value={paymentInfo.cardNumber}
                  onChange={e => setPaymentInfo({ ...paymentInfo, cardNumber: e.target.value.replace(/[^\d ]/g, '') })}
                  required
                />
              </div>
              <div>
                <label className="block text-xs font-medium text-purple-200 mb-1">PIN Code</label>
                <input
                  type="password"
                  maxLength={4}
                  inputMode="numeric"
                  pattern="[0-9]*"
                  className="w-full px-3 py-2 border border-purple-700 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-400 bg-black text-white"
                  placeholder="****"
                  value={paymentInfo.pin}
                  onChange={e => setPaymentInfo({ ...paymentInfo, pin: e.target.value.replace(/[^\d]/g, '') })}
                  required
                />
              </div>
              {error && <div className="text-red-400 text-xs">{error}</div>}
              <div className="flex justify-between mt-6">
                <button
                  type="button"
                  className="bg-gray-700 text-gray-200 px-3 py-1 rounded-xl hover:bg-gray-600 text-xs"
                  onClick={onBack}
                >
                  Back
                </button>
                <button
                  type="submit"
                  className="bg-purple-700 text-white px-4 py-1 rounded-xl hover:bg-purple-800 text-xs"
                >
                  Pay Now
                </button>
              </div>
            </form>
          </div>
          <div className="mt-6">
            <h3 className="text-lg font-semibold text-purple-400 mb-2">Cart Summary</h3>
            <ul className="divide-y divide-purple-900 rounded-xl bg-purple-950 p-3">
              {cart.map((item, idx) => (
                <li key={item.id + idx} className="py-2 flex justify-between items-center">
                  <span className="text-xs text-purple-200">{item.title}</span>
                  <span className="text-xs text-purple-400 font-semibold">${item.price}</span>
                </li>
              ))}
            </ul>
            <div className="text-right mt-2 text-purple-200 font-bold">
              Total: ${cart.reduce((sum, item) => sum + parseFloat(item.price), 0).toFixed(2)}
            </div>
          </div>
        </div>
      </section>
    );

    // Cart Page
    const CartPage = ({ cart, onRemove, onCheckout }) => (
      <section className="fixed top-24 right-8 w-full max-w-md bg-gray-900 rounded-2xl shadow-lg p-8 z-40 border border-purple-900">
        <h2 className="text-xl font-semibold text-purple-400 mb-2">Your Cart</h2>
        {cart.length === 0 ? (
          <div className="text-purple-600">Your cart is empty.</div>
        ) : (
          <>
            <div className="grid grid-cols-1 gap-4">
              {cart.map((item, idx) => (
                <div key={item.id + idx} className="bg-gray-900 shadow border border-purple-900 flex flex-row items-center rounded-2xl overflow-hidden">
                  <img
                    src={item.image}
                    alt={item.title}
                    className="w-16 h-16 object-cover rounded-l-2xl"
                    draggable="false"
                    style={{ pointerEvents: 'none' }}
                  />
                  <div className="p-2 flex flex-col flex-grow">
                    <div className="font-semibold text-xs mb-1 text-purple-200 truncate">{item.title}</div>
                    <div className="text-xs"><span className="font-medium text-purple-400">Price:</span> ${item.price}</div>
                  </div>
                  <button
                    className="ml-2 bg-red-700 text-white text-xs px-2 py-1 border border-red-800 hover:bg-black rounded-xl"
                    onClick={() => onRemove(idx)}
                  >
                    Remove
                  </button>
                </div>
              ))}
            </div>
            <div className="flex justify-end">
              <button
                className="mt-4 bg-purple-700 text-white px-4 py-1 rounded-xl hover:bg-purple-800 text-xs"
                onClick={onCheckout}
              >
                Proceed to Payment
              </button>
            </div>
          </>
        )}
      </section>
    );

    // Profile Page
    function ProfilePage({ profilePic, onEdit }) {
      return (
        <div className="bg-black min-h-screen p-6 flex flex-col items-center" id="profile">
          <div className="w-full max-w-2xl mx-auto bg-gray-900 rounded-xl shadow-xl overflow-hidden transition-transform transform hover:scale-105 border border-purple-900">
            <div className="relative">
              <div className="absolute inset-0 bg-gradient-to-r from-purple-900 via-pink-900 to-red-900 h-40 sm:h-56"></div>
              <div className="relative sm:flex sm:items-center sm:space-x-6 p-6">
                <div className="sm:w-1/3 flex flex-col items-center">
                  <img
                    className="w-32 h-32 object-cover rounded-full border-4 border-white shadow-lg sm:h-40 sm:w-40"
                    src={profilePic}
                    alt="Profile"
                  />
                  <button
                    className="mt-4 bg-indigo-500 hover:bg-indigo-600 text-white py-1 px-3 rounded-lg shadow font-semibold text-xs"
                    onClick={onEdit}
                  >
                    Edit Picture
                  </button>
                </div>
                <div className="p-6 sm:w-2/3">
                  <h2 className="text-3xl font-bold text-gray-100 mb-3">Jane Doe</h2>
                  <p className="text-gray-400 leading-relaxed mb-4 text-base">
                    A passionate web developer with a
                    knack for creating intuitive and engaging
                    user experiences. Jane loves exploring
                    new technologies and is always eager to
                    learn and improve her skills.
                  </p>
                  <a
                    href="#"
                    className="inline-block bg-gradient-to-r from-indigo-500 to-purple-600 text-white hover:from-indigo-600 hover:to-purple-700 py-2 px-4 rounded-lg shadow-lg transition-transform transform hover:scale-105 font-semibold text-xs"
                  >
                    View Profile
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      );
    }

    // Login Page
    function LoginPage({ onLogin }) {
      const [email, setEmail] = useState('');
      const [password, setPassword] = useState('');
      return (
        <div className="flex justify-center items-center min-h-[60vh]">
          <form className="bg-gray-900 p-8 rounded-2xl shadow-lg w-full max-w-xs space-y-4 border border-purple-900"
            onSubmit={e => { e.preventDefault(); onLogin(); }}>
            <h2 className="text-xl font-bold text-purple-400 mb-2 text-center">Login</h2>
            <input
              type="email"
              className="w-full px-3 py-2 border border-purple-700 rounded-xl text-xs bg-black text-white"
              placeholder="Email"
              value={email}
              onChange={e => setEmail(e.target.value)}
              required
            />
            <input
              type="password"
              className="w-full px-3 py-2 border border-purple-700 rounded-xl text-xs bg-black text-white"
              placeholder="Password"
              value={password}
              onChange={e => setPassword(e.target.value)}
              required
            />
            <button
              type="submit"
              className="w-full bg-purple-700 text-white py-2 rounded-xl hover:bg-purple-800 text-xs"
            >
              Login
            </button>
          </form>
        </div>
      );
    }

    // Register Page
    function RegisterPage() {
      const [email, setEmail] = useState('');
      const [password, setPassword] = useState('');
      const [confirm, setConfirm] = useState('');
      return (
        <div className="flex justify-center items-center min-h-[60vh]">
          <form className="bg-gray-900 p-8 rounded-2xl shadow-lg w-full max-w-xs space-y-4 border border-purple-900">
            <h2 className="text-xl font-bold text-purple-400 mb-2 text-center">Register</h2>
            <input
              type="email"
              className="w-full px-3 py-2 border border-purple-700 rounded-xl text-xs bg-black text-white"
              placeholder="Email"
              value={email}
              onChange={e => setEmail(e.target.value)}
              required
            />
            <input
              type="password"
              className="w-full px-3 py-2 border border-purple-700 rounded-xl text-xs bg-black text-white"
              placeholder="Password"
              value={password}
              onChange={e => setPassword(e.target.value)}
              required
            />
            <input
              type="password"
              className="w-full px-3 py-2 border border-purple-700 rounded-xl text-xs bg-black text-white"
              placeholder="Confirm Password"
              value={confirm}
              onChange={e => setConfirm(e.target.value)}
              required
            />
            <button
              type="submit"
              className="w-full bg-purple-700 text-white py-2 rounded-xl hover:bg-purple-800 text-xs"
            >
              Register
            </button>
          </form>
        </div>
      );
    }

    // About Page
    function AboutPage() {
      return (
        <section className="space-y-6 rounded-2xl bg-gray-900 p-6 shadow max-w-2xl mx-auto mt-6 border border-purple-900">
          <h1 className="text-2xl font-bold mb-4 text-purple-400">About ClothShop</h1>
          <p className="text-purple-200 leading-relaxed">
            ClothShop is your one-stop destination for the latest trends and timeless classics in fashion. 
            Our mission is to provide high-quality, affordable clothing for everyone. 
            We believe in inclusivity, sustainability, and making fashion accessible to all. 
            Our team carefully curates each collection to ensure you find something you love, every season.
          </p>
          <p className="text-purple-200 leading-relaxed">
            Thank you for choosing ClothShop. We are committed to excellent customer service and a seamless shopping experience.
          </p>
        </section>
      );
    }

    // New Arrivals Page
    function NewArrivalsPage() {
      return (
        <section className="space-y-6 rounded-2xl bg-gray-900 p-6 shadow max-w-3xl mx-auto mt-6 border border-purple-900">
          <h1 className="text-2xl font-bold mb-4 text-purple-400">New Arrivals</h1>
          <Carousel images={newArrivalsImages} />
        </section>
      );
    }

    const App = () => {
      const [currentPage, setCurrentPage] = useState('home');
      const [dropdownOpen, setDropdownOpen] = useState(false);
      const [cart, setCart] = useState([]);
      const [showPayment, setShowPayment] = useState(false);
      const [paymentInfo, setPaymentInfo] = useState({ cardNumber: '', pin: '' });
      const [paymentError, setPaymentError] = useState('');
      const [paymentSuccess, setPaymentSuccess] = useState(false);

      // Profile state
      const [showProfileEdit, setShowProfileEdit] = useState(false);
      const [profilePic, setProfilePic] = useState("https://randomuser.me/api/portraits/women/44.jpg");
      const [isLoggedIn, setIsLoggedIn] = useState(false);

      // Mobile nav state
      const [mobileMenuOpen, setMobileMenuOpen] = useState(false);
      const [mobileDropdownOpen, setMobileDropdownOpen] = useState(false);

      // Add to cart handler
      const handleAddToCart = (card) => {
        setCart([...cart, card]);
      };

      // Remove from cart handler
      const handleRemoveFromCart = (idx) => {
        setCart(cart.filter((_, i) => i !== idx));
      };

      // Payment handler
      const handlePay = () => {
        const card = paymentInfo.cardNumber.replace(/\s/g, '');
        if (!/^5\d{15}$/.test(card)) {
          setPaymentError("Please enter a valid 16-digit Mastercard number starting with 5.");
          return;
        }
        if (!/^\d{4}$/.test(paymentInfo.pin)) {
          setPaymentError("Please enter a valid 4-digit PIN code.");
          return;
        }
        setPaymentError('');
        setPaymentSuccess(true);
        setCart([]);
      };

      // Cards to show
      let displayCards = [];
      if (currentPage === 'all') {
        displayCards = cards;
      } else if (categories.includes(currentPage)) {
        displayCards = cards.filter(card => card.section === currentPage);
      }

      // Routing logic
      if (currentPage === 'about') {
        return (
          <div>
            <Navbar
              currentPage={currentPage}
              setPage={page => {
                setCurrentPage(page);
                setShowPayment(false);
                setPaymentSuccess(false);
              }}
              cartCount={cart.length}
              setDropdownOpen={setDropdownOpen}
              dropdownOpen={dropdownOpen}
              isLoggedIn={isLoggedIn}
              profilePic={profilePic}
              mobileMenuOpen={mobileMenuOpen}
              setMobileMenuOpen={setMobileMenuOpen}
              mobileDropdownOpen={mobileDropdownOpen}
              setMobileDropdownOpen={setMobileDropdownOpen}
            />
            <AboutPage />
          </div>
        );
      }

      if (currentPage === 'profile') {
        return (
          <div>
            <Navbar
              currentPage={currentPage}
              setPage={page => {
                setCurrentPage(page);
                setShowPayment(false);
                setPaymentSuccess(false);
              }}
              cartCount={cart.length}
              setDropdownOpen={setDropdownOpen}
              dropdownOpen={dropdownOpen}
              isLoggedIn={isLoggedIn}
              profilePic={profilePic}
              mobileMenuOpen={mobileMenuOpen}
              setMobileMenuOpen={setMobileMenuOpen}
              mobileDropdownOpen={mobileDropdownOpen}
              setMobileDropdownOpen={setMobileDropdownOpen}
            />
            <ProfilePage profilePic={profilePic} onEdit={() => setShowProfileEdit(true)} />
          </div>
        );
      }

      if (currentPage === 'login') {
        return (
          <div>
            <Navbar
              currentPage={currentPage}
              setPage={page => setCurrentPage(page)}
              cartCount={cart.length}
              setDropdownOpen={setDropdownOpen}
              dropdownOpen={dropdownOpen}
              isLoggedIn={isLoggedIn}
              profilePic={profilePic}
              mobileMenuOpen={mobileMenuOpen}
              setMobileMenuOpen={setMobileMenuOpen}
              mobileDropdownOpen={mobileDropdownOpen}
              setMobileDropdownOpen={setMobileDropdownOpen}
            />
            <LoginPage onLogin={() => { setIsLoggedIn(true); setCurrentPage('home'); }} />
          </div>
        );
      }

      if (currentPage === 'register') {
        return (
          <div>
            <Navbar
              currentPage={currentPage}
              setPage={page => setCurrentPage(page)}
              cartCount={cart.length}
              setDropdownOpen={setDropdownOpen}
              dropdownOpen={dropdownOpen}
              isLoggedIn={isLoggedIn}
              profilePic={profilePic}
              mobileMenuOpen={mobileMenuOpen}
              setMobileMenuOpen={setMobileMenuOpen}
              mobileDropdownOpen={mobileDropdownOpen}
              setMobileDropdownOpen={setMobileDropdownOpen}
            />
            <RegisterPage />
          </div>
        );
      }

      if (currentPage === 'newarrivals') {
        return (
          <div>
            <Navbar
              currentPage={currentPage}
              setPage={page => setCurrentPage(page)}
              cartCount={cart.length}
              setDropdownOpen={setDropdownOpen}
              dropdownOpen={dropdownOpen}
              isLoggedIn={isLoggedIn}
              profilePic={profilePic}
              mobileMenuOpen={mobileMenuOpen}
              setMobileMenuOpen={setMobileMenuOpen}
              mobileDropdownOpen={mobileDropdownOpen}
              setMobileDropdownOpen={setMobileDropdownOpen}
            />
            <NewArrivalsPage />
          </div>
        );
      }

      return (
        <div>
          <Navbar
            currentPage={currentPage}
            setPage={page => {
              setCurrentPage(page);
              setShowPayment(false);
              setPaymentSuccess(false);
            }}
            cartCount={cart.length}
            setDropdownOpen={setDropdownOpen}
            dropdownOpen={dropdownOpen}
            isLoggedIn={isLoggedIn}
            profilePic={profilePic}
            mobileMenuOpen={mobileMenuOpen}
            setMobileMenuOpen={setMobileMenuOpen}
            mobileDropdownOpen={mobileDropdownOpen}
            setMobileDropdownOpen={setMobileDropdownOpen}
          />
          <main className="p-4 max-w-7xl mx-auto">
            {/* Home Page */}
            {currentPage === 'home' && (
              <section className="space-y-6 rounded-2xl bg-gray-900 p-6 shadow border border-purple-900">
                <h1 className="text-2xl font-bold mb-4 text-purple-400">Welcome to ClothShop</h1>
                <p className="text-purple-200 leading-relaxed">
                  Discover a world of style at ClothShop. From elegant evening wear to casual comfort, we bring you the best in fashion.
                  Our clothes are crafted with care, ensuring every piece makes a statement.
                  Whether you're dressing for a special event or lounging at home, you'll find the perfect outfit here.
                  <span className="font-bold text-purple-400"> Explore our new arrivals</span> to keep your wardrobe fresh, and check out seasonal deals that save big.
                  Quality, affordability, and style come together in every stitch.
                  <img src="https://picsum.photos/seed/featured1/600/200" className="my-4 rounded-2xl shadow" alt="Highlight Image 1" />
                  Our range includes sizes for all body types, because fashion is for everyone.
                  Love bold colors? Prefer timeless neutrals? We’ve got it.
                  <img src="https://picsum.photos/seed/featured2/600/200" className="my-4 rounded-2xl shadow" alt="Highlight Image 2" />
                  Shop with ease and confidence—our secure checkout and fast shipping make it simple.
                  Let your personality shine through the clothes you wear.
                  At ClothShop, we believe looking good should feel even better.
                </p>
              </section>
            )}

            {/* All Items or Category Page */}
            {(currentPage === 'all' || categories.includes(currentPage)) && !showPayment && (
              <section className="space-y-4">
                <div className="flex justify-between items-center mb-2">
                  <h2 className="text-xl font-semibold text-purple-400">
                    {currentPage === 'all' ? 'All Items' : `${currentPage}`}
                  </h2>
                </div>
                <div className="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-3">
                  {displayCards.map(card => (
                    <Card key={card.id} card={card} onAddToCart={handleAddToCart} />
                  ))}
                </div>
              </section>
            )}

            {/* Cart Page */}
            {currentPage === 'cart' && !showPayment && (
              <CartPage
                cart={cart}
                onRemove={handleRemoveFromCart}
                onCheckout={() => setShowPayment(true)}
              />
            )}

            {/* Payment Page */}
            {showPayment && (
              paymentSuccess ? (
                <section className="fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50">
                  <div className="w-full max-w-md bg-green-950 rounded-2xl shadow-lg p-8 text-center border border-green-800 mx-2">
                    <svg className="mx-auto mb-4 w-16 h-16 text-green-400" fill="none" stroke="currentColor" strokeWidth="2" viewBox="0 0 24 24">
                      <path strokeLinecap="round" strokeLinejoin="round" d="M5 13l4 4L19 7"/>
                    </svg>
                    <h2 className="text-2xl font-bold text-green-400 mb-2">Payment Successful!</h2>
                    <p className="text-green-200 mb-4">Thank you for your purchase. Your order has been placed.</p>
                    <button
                      className="bg-purple-700 text-white px-4 py-1 rounded-xl hover:bg-purple-800 text-xs"
                      onClick={() => {
                        setShowPayment(false);
                        setCurrentPage('home');
                        setPaymentInfo({ cardNumber: '', pin: '' });
                        setPaymentSuccess(false);
                      }}
                    >
                      Back to Home
                    </button>
                  </div>
                </section>
              ) : (
                <PaymentPage
                  cart={cart}
                  onBack={() => setShowPayment(false)}
                  onPay={handlePay}
                  paymentInfo={paymentInfo}
                  setPaymentInfo={setPaymentInfo}
                  error={paymentError}
                />
              )
            )}
          </main>
        </div>
      );
    };

    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>